# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class MagentoCli < Formula
  desc "run magento natively with dockerized backend services"
  homepage "https://magento-cli.com"
  version "0.1.7"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/blueacorninc/magento-cli/releases/download/v0.1.7/magento-cli_0.1.7_darwin_amd64.tar.gz"
      sha256 "6d1bd15238c5091b58f7395706a344cc4048f8972f25eaa57aca3f6e5b5e2941"

      def install
        bin.install "magento"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/blueacorninc/magento-cli/releases/download/v0.1.7/magento-cli_0.1.7_darwin_arm64.tar.gz"
      sha256 "63706edea9c6e384a69f5286996f59fdb10b9b71c08c3eb6ad4cde95a63127d9"

      def install
        bin.install "magento"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/blueacorninc/magento-cli/releases/download/v0.1.7/magento-cli_0.1.7_linux_amd64.tar.gz"
      sha256 "763a713ce8b1bf4a2db479002a1bbba33146d21c5a35bb31148a80aba2c74a32"

      def install
        bin.install "magento"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/blueacorninc/magento-cli/releases/download/v0.1.7/magento-cli_0.1.7_linux_arm64.tar.gz"
      sha256 "968775c067a86a0857d9e2476cae2d0b106dcfe303337bea1b47788b412a7b7c"

      def install
        bin.install "magento"
      end
    end
  end

  depends_on "docker" => :required
  depends_on "docker-compose" => :required
  depends_on "git" => :optional

  def caveats; <<~EOS
    How to use this binary
  EOS
  end

  test do
    system "#{bin}/magento -h"
  end
end
